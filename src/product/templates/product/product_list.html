{% extends 'base.html' %}

{% block content %}
	<div class="product-header">
		<h1 style="font-weight: bold;" class="">Products</h1>
		<form class="form-inline">
			<div class="form-group mr-1">
				<input class="form-control" type="text" name="q" placeholder="Type product name..">
			</div>
			<button class="btn btn-outline-primary" type="submit">
				Search
			</button>
		</form>
	</div>
	<hr>
	<br>
	<div class="product-list">
		{% if error_msg %}
			<p class="lead text-secondary">{{ error_msg }}</p>
		{% else %}
		<div class="row">
			{% for product in products %}
				<div class="col-sm-12 col-md-6 col-lg-4 mb-4">
					<div class="card">
						{% if product.image %}
							<a href="{{product.image.url}}">
								<img src="{{product.image.url}}" class="card-img-top">
							</a>
						{% endif %}
						<div class="card-body">
							<p class="lead">{{ product.name }}</p>
							<p class="card-text">$ {{ product.price }}</p>
							<p class="card-text text-sm">
								<small>
									{{ product.date | date:"F d, Y" }}
								</small>
							</p>
							<a href="{{product.get_absolute_url}}" class="btn btn-outline-primary">Details</a>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
		{% endif %}
	</div>
{% endblock %}
